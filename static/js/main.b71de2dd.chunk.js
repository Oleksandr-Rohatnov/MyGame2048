(this.webpackJsonpMyGame2048=this.webpackJsonpMyGame2048||[]).push([[0],{15:function(e,t,s){},16:function(e,t,s){},17:function(e,t,s){"use strict";s.r(t);var n=s(0),r=s(1),c=s.n(r),a=s(4),i=s.n(a),o=(s(15),s(3)),l=s(5),h=s(6),u=s(9),m=s(8),d=s(7),f=s.n(d),j=(s(16),new Array(4).fill(new Array(4)));function v(e){return f()("gameBlock__item",{"gameBlock__item--2":2===e,"gameBlock__item--4":4===e,"gameBlock__item--8":8===e,"gameBlock__item--16":16===e,"gameBlock__item--32":32===e,"gameBlock__item--64":64===e,"gameBlock__item--128":128===e,"gameBlock__item--256":256===e,"gameBlock__item--512":512===e,"gameBlock__item--1024":1024===e,"gameBlock__item--2048":2048===e})}function p(){return Math.floor(4*Math.random())}var b=function(e){Object(u.a)(s,e);var t=Object(m.a)(s);function s(){var e;Object(l.a)(this,s);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={arrays:j,score:0,bestScore:0},e.swipeLeft=function(t){"KeyA"===t.code&&(e.horizontallySwipe("left"),setTimeout((function(){e.generateNumbers()}),300))},e.swipeRight=function(t){"KeyD"===t.code&&(e.horizontallySwipe("right"),setTimeout((function(){e.generateNumbers()}),300))},e.swipeUp=function(t){"KeyW"===t.code&&(e.VerticalSwipe("up"),setTimeout((function(){e.generateNumbers()}),300))},e.swipeDown=function(t){"KeyS"===t.code&&(e.VerticalSwipe("down"),setTimeout((function(){e.generateNumbers()}),300))},e}return Object(h.a)(s,[{key:"refreshArray",value:function(e){return this.setState({arrays:e}),e}},{key:"generateNumbers",value:function(){var e=p(),t=p(),s=this.state.arrays;s[e][t]?this.generateNumbers():(s[e][t]=2,this.refreshArray(s))}},{key:"componentDidMount",value:function(){document.addEventListener("keypress",this.swipeLeft),document.addEventListener("keypress",this.swipeRight),document.addEventListener("keypress",this.swipeUp),document.addEventListener("keypress",this.swipeDown)}},{key:"newGame",value:function(){this.setState((function(e){return{bestScore:e.score>e.bestScore?e.score:e.bestScore,score:0}})),this.refreshArray(j)}},{key:"horizontallySwipe",value:function(e){for(var t=this,s=Object(o.a)(this.state.arrays),n=[],r=function(r){for(var c=s[r].filter((function(e){return e})),a=[],i=function(e){c[e]===c[e+1]?(a.push(2*c[e]),t.setState((function(t){t.score+=c[e]})),e++):a.push(c[e]),o=e},o=0;o<c.length;o++)i(o);var l=new Array(4-a.length);if("left"===e){for(var h=0;h<l.length;h++)a.push(l[h]);n.push(a)}else{for(var u=0;u<a.length;u++)l.push(a[u]);n.push(l)}},c=0;c<s.length;c++)r(c);this.refreshArray(n)}},{key:"VerticalSwipe",value:function(e){for(var t=this,s=Object(o.a)(this.state.arrays),n=[],r=[[],[],[],[]],c=0;c<s.length;c++)r[0].push(s[c][0]),r[1].push(s[c][1]),r[2].push(s[c][2]),r[3].push(s[c][3]);for(var a=[],i=function(s){for(var n=r[s].filter((function(e){return e})),c=[],i=function(e){n[e]===n[e+1]?(c.push(2*n[e]),t.setState((function(t){t.score+=n[e]})),e++):c.push(n[e]),o=e},o=0;o<n.length;o++)i(o);var l=new Array(4-c.length);if("up"===e){for(var h=0;h<l.length;h++)c.push(l[h]);a.push(c)}else{for(var u=0;u<c.length;u++)l.push(c[u]);a.push(l)}},l=0;l<r.length;l++)i(l);for(var h=0;h<a.length;h++){for(var u=[],m=0;m<a.length;m++)u.push(a[m][h]);n.push(u)}this.refreshArray(n)}},{key:"render",value:function(){var e=this,t=this.state,s=t.arrays,r=t.score,c=t.bestScore;return Object(n.jsxs)("div",{className:"game",children:[Object(n.jsxs)("div",{className:"gamePanel",children:[Object(n.jsxs)("div",{className:"gamePanel__scores",children:[Object(n.jsx)("h1",{children:"2048"}),Object(n.jsxs)("h2",{children:["Score:",r]}),Object(n.jsxs)("h3",{children:["Best Score:",c]})]}),Object(n.jsx)("button",{type:"button",onClick:function(){return e.newGame()},name:"btn",id:"newGame",children:"NEW GAME"})]}),Object(n.jsxs)("div",{className:"gameBlock",children:[Object(n.jsx)("div",{className:v(s[0][0]),children:s[0][0]}),Object(n.jsx)("div",{className:v(s[0][1]),children:s[0][1]}),Object(n.jsx)("div",{className:v(s[0][2]),children:s[0][2]}),Object(n.jsx)("div",{className:v(s[0][3]),children:s[0][3]}),Object(n.jsx)("div",{className:v(s[1][0]),children:s[1][0]}),Object(n.jsx)("div",{className:v(s[1][1]),children:s[1][1]}),Object(n.jsx)("div",{className:v(s[1][2]),children:s[1][2]}),Object(n.jsx)("div",{className:v(s[1][3]),children:s[1][3]}),Object(n.jsx)("div",{className:v(s[2][0]),children:s[2][0]}),Object(n.jsx)("div",{className:v(s[2][1]),children:s[2][1]}),Object(n.jsx)("div",{className:v(s[2][2]),children:s[2][2]}),Object(n.jsx)("div",{className:v(s[2][3]),children:s[2][3]}),Object(n.jsx)("div",{className:v(s[3][0]),children:s[3][0]}),Object(n.jsx)("div",{className:v(s[3][1]),children:s[3][1]}),Object(n.jsx)("div",{className:v(s[3][2]),children:s[3][2]}),Object(n.jsx)("div",{className:v(s[3][3]),children:s[3][3]})]})]})}}]),s}(c.a.Component),g=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,18)).then((function(t){var s=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,a=t.getTTFB;s(e),n(e),r(e),c(e),a(e)}))};i.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(b,{})}),document.getElementById("root")),g()}},[[17,1,2]]]);
//# sourceMappingURL=main.b71de2dd.chunk.js.map